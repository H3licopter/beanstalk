<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta name="viewport"content="width=device-width, initial-scale=1">
<title> | Website Title</title>
<meta name="description"content="Website Description"/>
<meta property="og:title"content=""/>
<meta property="og:description"content=""/>
<meta property="og:image"content="localhost:6969/"/>
<meta property="og:image:alt"content=""/>
<meta property="og:locale"content="en_US"/>
<meta property="og:type"content="website"/>
<meta property="og:url"content="localhost:6969/"/>
<meta name="twitter:card"content=""/>
<meta name="color-scheme" content="light dark" />
<link rel="canonical"href="">
<link rel="icon"href="../images/favicons/favicon.ico">
<!-- <link rel="icon"href="images/favicons/favicon.svg"type="image/svg+xml"> -->
<link rel="apple-touch-icon"href="../images/favicons/apple-touch-icon.png">
<link rel="manifest"href="../images/favicons/site.webmanifest">
<link rel="stylesheet" href="../css/pico.min.css" />
<style>.bs-nav-1 {
                border-bottom-color: grey;
                border-bottom-style: solid;
                border-bottom-width: 1px;
                padding: 0rem 2rem 0rem 2rem;
            }</style></head><body><h1>Collections
</h1><p>All Collections are reference types in Beanstalk, which means they are references to underlying data. They work a little bit like tables in Lua.
</p><p>Single expression or value wrapped in parenthesis is just evaluated as the expression or value itself and does not automatically become a collection.
</p><h2>Tuples
</h2><p>By simply listing literals separated by commas, and not specifying a type, you create a tuple literal.
</p><p>You can surround the tuple with parenthesis for clarity and multiline.
</p><p>1, 2, 3

(
    1,
    2,
    3,
)

</p><p>Tuples are a fixed size and can contain any type. Tuples have implicit behaviours that allow for easy unpacking, comparison and assignment.
</p><p>A tuple of one value is indistinguishable from the value itself.
</p><p>When creating a tuple using a colon, the values inside become immutable.
</p><p>-- Fixed size tuple of immutable integers
    tuple :: 1, 2, 3
    tuple.0 -- returns 1
</p><h2>Fixed Collections (Structs)
</h2><p>By creating a constant collection, you can define a struct. This can then be used as a type to create new instances of the struct.
</p><p>-- Vector struct
    Coords :: {
        x : float,
        y : float,
        z : float,
    }

    -- Creating default values for a struct, type can be inffered
    Coords :: {
        x : float = 0,
        y : float = 0,
        z : float = 0,
    }

    -- Creating a new instance of the struct
    enemy_vec : Coords =  {
        x = 1,
        y = 2,
        z = 3,
    }

    enemy_vec.x -- returns 1
</p><h2>Dynamic Collections (Arrays)
</h2><p>When creating a variable collection rather than a constant collection, it becomes a dynamically sized collection.
</p><p>Dynamic collections can only contain one data type. 
</p><span>-- dynamically sized int array
    array := {3, 4, 5}
    array.push 9 -- works, collection is dynamically sized
    io array -- prints {3, 4, 5, 9}

    -- Array with fixed size of 64 elements
    -- Will initialise all values with the types default value
    array : 64 int = {3, 4, 5}
    array.push 9 -- Error, collection is fixed size
    array.length -- returns 64
    array.43 -- returns 0

    array.0 += 1 
    array.0 -- returns 4

    array := {3, 4, 5, 6}
    array.push 9 -- works, collection is dynamically sized
    array.length -- returns 5

    -- Initialising an empty array with a type
    array : {} int
</span><p>By using statements inside your collection rather than literals, you can define keys for the items in the collection. 
</p><p>dictionary := {
        "key1" : 1,
        "key2" : 2,
        "key3" : 3,
    }

    dictionary "key1" -- returns 1

</p>
<script type="module">  const vNavbar = `<nav style="background-color:rgba(100, 220, 0, 0.06);" class="bs-nav-1 "  ><ul><li><a href="../" style="" class="" >&#127793;
</a></li></ul></nav>`;const vFooter = `<footer class="container"><div style="display:flex;align-items:center;flex-direction:column;text-align:center;padding:2rem 0rem 0rem 0rem ;"  class="" ><h3>&#127793;
</h3></div></footer>`;
  WebAssembly.instantiateStreaming(fetch("./collections.wasm")).then((obj)=>{
    let wsx = obj.instance.exports;wsx.set_wasm_globals();function uInnerHTML(id,update){
                const es = document.getElementsByClassName(id);
                if (Array.isArray(update)){update = update.join(' ')}
                for (let i = 0;i<es.length;i++) {
                  es[i].innerHTML=update
                }
            }
  ;});</script>
</body>
</html>