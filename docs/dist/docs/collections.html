<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta name="viewport"content="width=device-width, initial-scale=1">
<title></title>
<meta name="description"content="Website Description"/>
<meta property="og:title"content=""/>
<meta property="og:description"content=""/>
<meta property="og:image"content="localhost:6969/"/>
<meta property="og:image:alt"content=""/>
<meta property="og:locale"content="en_US"/>
<meta property="og:type"content="website"/>
<meta property="og:url"content="localhost:6969/"/>
<meta name="twitter:card"content=""/>
<meta name="color-scheme" content="light dark" />
<link rel="canonical"href="">
<link rel="icon"href="../images/favicons/favicon.ico">
<!-- <link rel="icon"href="images/favicons/favicon.svg"type="image/svg+xml"> -->
<link rel="apple-touch-icon"href="../images/favicons/apple-touch-icon.png">
<link rel="manifest"href="../images/favicons/site.webmanifest">
<link rel="stylesheet" href="../css/pico.min.css" />
<style></style></head><body><main class="container"><h1>Collections
</h1><p>All Collections are reference types in Beanstalk, which means they are references to underlying data. There are three main types of collection, tuples, prototypes and arrays.

</p><p>Single expression or value wrapped in parenthesis is just evaluated as the expression or value itself and does not automatically become a collection.

</p><p>All collections can have their data accessed using the dot operator, either by index or by name if they are named values.

</p><h2>Literals
</h2><p>By simply wrapping a list of values in parethesis and not specifying a type, you create a tuple literal.

</p><span>(1, 2, 3)
</span><h2>Fixed Collections
</h2><p>Tuples are a fixed size and can contain any type. Tuples have implicit behaviours that allow for easy unpacking, comparison and assignment.

</p><p>If a tuple only contains one value in parenthesis, it becomes equaivalent to a single value rather than a collection of values.

</p><p>Tuples can also contain named values that can be accessed by name rather than index. This is done by providing a variable name just before the value.

</p><p>When creating a tuple using a colon, the values inside become immutable.

</p><span>-- Fixed size tuple of immutable integers
    tuple : (1, 2, 3)
    tuple.0 -- returns 1

    -- Named tuple element (mutable)
    tuple_of_one = (number 69)
    int_value = 69
    tuple_of_one is int_value -- returns true

    -- Named value with type (mutable)
    tuple_of_one = (number 420 float)
    float_value = 420.0
    tuple_of_one is int_value -- returns true
</span><h2>Dynamic Collections (Arrays)
</h2><p>Values wrapping in curly braces become and assigning using an equals, you can create a dynamic collection.

</p><p>Dynamic collections can only contain one data type.

    array = {3, 4, 5}
    array.0 -- returns 3
</p></p><p>Specifying the type of the collection is optional for arrays, but if your collection is empty or only contains one value, you must specify the type as a collection of that type.

<span>Empty parentheses are how you specify a collection type.

</span><span>-- Empty array of integers
    empty_array = {}int

    empty_array.push(3)
    empty_array.0 -- returns 3
</span></p><p>An empty, dynamically sized collection of strings.

<span>strings = {}string
    strings.push("Hello")
    strings.push("World")
    strings.0 -- returns "Hello"
</span></p><p>Dynamic collections can also have named values.

<span>values = {
        default_number 0,
        6, 
        7,
        8
    }
</span><h2>Prototypes (Structs)
</h2><span>By creating a collection using a colon (constant), you create a prototype, which is a fixed collection of named properties or methods. 

</span><span>-- Prototype for a vector
    -- Has an optional Z property with a default value of 0
    -- Each new instance of this prototype will have a value for z
    Vec : {
        x float,
        y float,
        z = 0.0
    }

    Vec.x -- returns 0

    -- Creating a method for the prototype
    reset : this Vec -&gt; {
        this.x = 0
        this.y = 0
        this.z = 0
    }
</span><h2>Creating a new collection from a prototype
</h2><span>If you specify the type as a prototype, you can create a new collection that makes sure the values are the same structure as the prototype.

</span><span>coordinates = {
        x 3.45,
        y 7.93,
    } Vec

    coordinates.x -- returns 3.45
    coordinates.z -- returns 0.0
    coordinates.reset() -- sets all values to 0.0
</span></main>
<script type="module">
  import init, { parse_int_expr, parse_float_expr } from "./../pkg/bs_wasm_generator.js";
  init().then(() => {
    function uInnerHTML(id,update){
                const es = document.getElementsByClassName(id);
                if (Array.isArray(update)){update = update.join(' ')}
                for (let i = 0;i<es.length;i++) {
                  es[i].innerHTML=update
                }
            }
  });
  
  function checkIfFileChanged() {
    fetch('/check', { method: 'HEAD' })
      .then(response => {
        if (response.status == 205) {
          location.reload();
        }
      }).catch(console.error);
  }

  setInterval(() => checkIfFileChanged(), 500);
</script>
</body>
</html>